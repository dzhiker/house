{"last_chapter_rule":"js:\nvar ym=MY_URL.includes('iqiyi.')?request(MY_URL,{}):fetch(MY_URL, {headers:{\"User-Agent\":PC_UA}});\ntry{\nif(MY_URL.includes('bilibili')){\nvar des=JSON.parse(ym.split('newestEp\":')[1].split('}')[0]+'}').desc;\ntry{\nvar ep=JSON.parse(ym.split('\"epList\":')[1].split('}]')[0]+'}]'); \n}catch(e){ep=[];}\nif(ep.length==0)gxz=0;\nelse{\nfor(var i=ep.length-1;ep[i].badge=='预告';i--);\nvar gxz=ep[i].title;}}\n}catch(e){gxz=\"更新内容获取失败！\";}\n\n\ntry{\nif(MY_URL.includes('iqiyi')){\n/*\ntry{var v=JSON.parse(ym.split('videoInfo\":')[1].split('}')[0]+'}');}catch(e){var v={};v.aid=ym.split('albumId\":')[1].split(',')[0];}vi=JSON.parse(request('https://pub.m.iqiyi.com/h5/main/videoList/album/?albumId='+v.aid+'&size=1500&page=1&needPrevue=false&needVipPrevue=false',{})).data;if(vi!=''){v=vi.videos;gxz=v.pop().pd}else{i=v;if(i&&(!i.vt||!i.vt.includes('预告')))gxz=i.order;}\n*/\n\nvar gxz=ym.match(/latestOrder\".*?(\\d+)/)[1];\n}\n}catch(e){gxz='最新状态获取失败！';}\ntry{\nif(MY_URL.includes('qq')){\neval(pdfh(ym,'head&&script,18&&Html').replace(/wind.*?=/,'htm='));\nvar epi=htm.global.coverInfo.video_ids;\nvar le=fetch('https://union.video.qq.com/fcgi-bin/data?otype=json&tid=682&appid=20001238&appkey=6c03bbe9658448a4&union_platform=1&idlist='+epi.slice(-5).reverse().join(','));\neval(le);\nvar le=QZOutputJson.results.filter(a=>{if(!a.fields.category_map.join(',,').includes('预告'))return a;});\nvar gxz='第'+le[0].fields.episode+'话';\n\n}}catch(e){gxz=\"更新内容获取失败！\";}\nsetResult('更新至：'+gxz);","pageList":[{"col_type":"movie_3","name":"测试","path":"ceshi.html","rule":"js:\n\r\nvar res = {};\r\nvar d = [];\nvar d1 = [];\nvar d2 = [];\nvar d3 = [];\nvar d4 = [];\nvar d5 = [];\nfunction sel(a){\n   try{\n      a=a.match(/[\\w]*?\\.com/g)[0];\n     }catch(e){return 'oth';}\n            switch (a) {\n                case \"qq.com\":\n                    str = 'tx';\n                    break;\n                case \"iqiyi.com\":\n                    str = 'qy';\n                    break;\n                case \"youku.com\":\n                    str = 'yk';\n                    break;\n                case \"mgtv.com\":\n                    str = 'mg';\n                    break;\n                case \"bilibili.com\":\n                    str = 'bl';\n                    break;\n                default:\n                    str = 'oth';\n                    break;\n            }\nreturn str;\n}\n\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\nvar fi=fetch(path,{});\ntry{\neval('jx='+fi);\neval('a='+fi);\n\nsaveFile('save.txt',fi);\n\nfor(let x of Object.keys(jx.settings)){\nvar b=jx.settings[x].split(',');\nfor(i=0;i<b.length;i++){\nfor(j=i+1;j<b.length;j++){\nif(b[i]==b[j]){\nb.splice(j,1);\n}\n}\n}\njx.settings[x]=b.filter(a=>{return a!='';}).join(',');\n}\n\njx.settings.cj='hiker://files/cache/Parse_Dn.js';\njx.title=jx.title.filter(a=>{\nif(jx.codes[a]){jx.codes[a]=a+'解析';\nreturn a;}\nelse{delete jx.codes[a];}});\nvar fi=JSON.stringify(jx);\nfor(j of jx.title){fi=fi.replace('\"'+j+'解析\"',((typeof a.codes[j])!='function'?('\"'+a.codes[j].toString().trim()+'\"'):a.codes[j].toString().trim()));}writeFile(path,fi);\n\ninput=getVar('input');\nputVar('input','');\nvar name=getVar('i');\n\nd.push({\ntitle:'测试',\ndesc:'输入测试链接...',\nurl:`putVar('input',input);refreshPage(false);`,\ncol_type:'input',\nextra:{id:\"ink\"}\n});\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\n\neval('jx='+fi);\nvar pd=0;\nfor(i=0;i<jx.title.length;i++){\nif(jx.title[i]==name){\npd=1;break;\n}\n}\nif(name==''||pd==0)name=jx.title[0];\n\nd.push({\ntitle:'测试从 '+name+' 开始: ',\ndesc:'点击切换起点解析',\nurl:`select://{\"title\": \"选择解析...\",\"options\" :[`+jx.title.map(a=>{return '\"'+a+'\"'})+`],col: 3, \"js\":\"putVar('i',input);refreshPage(false);'toast://切换至'+input+'开始测试！'\"}`,\ncol_type:'text_1'\n});\nd.push({col_type:'line_blank'});\nif(input!=''&&input.includes('://')){\nvar cs=0;\nfor(var ii=0;ii<jx.title.length;ii++){\n\nif(name!=jx.title[ii]&&cs==0){\ncontinue;\n}else if(name==jx.title[ii]){cs=1;}\n\n\n\nif(jx.title[ii]!='defaultParse'){\ntry{\nshowLoading('正在测试 '+jx.title[ii]);\n\nif((typeof jx.codes[jx.title[ii]])!='string'){\nvar url=jx.codes[jx.title[ii]](input).replace(/\\\"/g,'\\\\\"').replace(/\\'/g,\"\\\\'\").replace(/\\`/g,'\\\\`');\nif(sel(input)=='mg'&&url.search(/User-Agent|Referer/)==-1)\nurl=url+';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';\n}\nelse{\nvar url='';\n}\n\nif(url.includes('toast://')||!url.includes('://')||url==input)url='';\n}catch(e){\nurl='';\n}\n\nif(url!='')\n{\nd1.push({\ntitle:jx.title[ii],\ndesc:'找到一个免嗅',\nurl:`select://{\"title\": \"选择操作...\", \"options\" :['播放','添加','删除'], col: 3, \"js\": \"if(input=='播放'){\\``+url+`\\`;}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\"'+j+'解析\\\\\"',((typeof a.codes[j])!='function'?('\\\\\"'+a.codes[j].toString().trim()+'\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\"}`,\ncol_type:'text_1'\n});\ntry{\nputVar('i',jx.title[ii+1]);\n}catch(e){\nclearVar('i');}\nd1.push({col_type:'line'});\nd1.push({\ntitle:'下一个',\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');refreshPage(false);'toast://下一个'`,\ncol_type:'text_2'\n});\nd1.push({\ntitle:'从头开始',\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');clearVar('i');refreshPage(false);'toast://开始'`,\ncol_type:'text_2'\n});\nhideLoading();\nbreak;\n}\n\n\nelse{\nif((typeof jx.codes[jx.title[ii]])!='string')\nd2.push({\ntitle:jx.title[ii],\n\nurl:`select://{\"title\": \"选择操作...\", \"options\" :['重试','添加','删除'], col: 3, \"js\": \"if(input=='重试'){\\`hiker://empty@lazyRule=.js:var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);jx.codes['`+jx.title[ii]+`']('`+input+`');\\`}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\"'+j+'解析\\\\\"',((typeof a.codes[j])!='function'?('\\\\\"'+a.codes[j].toString().trim()+'\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\"}`,\ncol_type:'text_3'\n});\nelse{\nvar x5=jx.codes['defaultParse'](jx.codes[jx.title[ii]]+input).replace(/\\\\/g,'\\\\\\\\\\\\\\\\').replace(/\\\"/g,'\\\\\"').replace(/\\'/g,\"\\\\'\").replace(/\\`/g,'\\\\`').replace(/[\\s]/g,' ');\nd4.push({\ntitle:jx.title[ii],\n\nurl:`select://{\"title\": \"选择操作...\", \"options\" :['解析','添加','删除'], col: 3, \"js\": \"if(input=='解析'){'`+x5+`'}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\"'+j+'解析\\\\\"',((typeof a.codes[j])!='function'?('\\\\\"'+a.codes[j].toString().trim()+'\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\"}`,\ncol_type:'text_3'\n});}\n}\n}}\n}\nhideLoading();\nif(d2!='')\nd3.push({\ntitle:'⭐️以下是解析失败的免嗅:',\ncol_type:'text_1'\n\n});\nif(d4!='')\nd5.push({\ntitle:'⭐️以下不是免嗅，需要手动测试:',\ncol_type:'text_1'\n\n});\n}catch(e){\nd.push({\ntitle:'文件损坏，点击此处恢复(如果有备份的话)',\ncol_type:'text_center_1',\ndesc:'先点一下试一试吧',\nurl:`hiker://empty@lazyRule=.js:writeFile('`+path+`',readFile('save.txt'));refreshPage(false);'toast://执行成功！'`\n});\n}\nd=d.concat(d1).concat(d3).concat(d2).concat(d5).concat(d4);\n\r\nres.data = d;\r\nsetHomeResult(res);"},{"col_type":"movie_3","name":"搜索","path":"so.html","rule":"if(input=='搜索分组'){`input://{\"hint\":'输入分组名称：',\"js\":\"a=[];a[0]=0;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\"}`}\nelse{`input://{\"hint\":'输入小程序名称：',\"js\":\"a=[];a[0]=1;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\"}`}"},{"col_type":"movie_3","name":"简介","path":"jianj","rule":"function jianj(a){\nreturn `hiker://empty@rule=js:var res = {};var d = [];d.push({title:'简介：\\\\n'+\\``+a+`\\`,col_type:'long_text'});res.data = d;setHomeResult(res);`\n}"},{"col_type":"movie_3","name":"分类","path":"classify","rule":"js:\nd=[];\nputVar('分类','');\nvar path=\"hiker://files/番剧更新表/我的追番.txt\";\nvar file=request(path);\nif(file!=\"\"){\nd.push({\n    title:\"操作说明：\",\n    desc:\"先选择放到一个分组的番剧，点击完成，输入名称即可！\",\n    col_type:\"text_1\",\n    extra:{id:'步骤'}\n\n});\nvar xx=file.split('@@').filter(a=>{return a!=\"\";});\nvar arr=xx.map(a=>{\n    var b={};\nvar cate=a.split(\"&&\");\n    var t=cate[0];\nti=t;\nif(cate[4]&&cate[4]!=\"\")ti='‘‘'+t+'’’';\n    b.title=ti;\n    b.url=\"hiker://empty#noLoading#@lazyRule=.js:var a=getVar('分类','');var b=0;a=a==''?[]:JSON.parse(a);a=a.filter(i=>{if(i=='\"+t+\"'){b=1;}else{return i;}});if(b==0)a.push('\"+t+\"');putVar('分类',a);updateItem({title:b==0?('““\"+t+\"””'):('\"+ti+\"'),extra:{id:'\"+t+\"'}});('toast://'+(b==0?'已选中！':'取消选中！'))\";\n    b.col_type=\"text_2\";\n    b.extra={id:t};\n    return b;\n});\nd=d.concat(arr);\nd.push({\n    title:\"完成\",\n    col_type:\"text_center_1\",\n    url:`input://{\"hint\":\"分组名称......\", \"js\": \"var fi=`+JSON.stringify(xx).replace(/\"/g,\"'\")+`;var a=getVar('分类','');a=a==''?[]:JSON.parse(a);for(let i of a){for(let j in fi){var cate=fi[j].split('&&');var ti=cate[0];if(ti==i){cate[4]=input;fi[j]=cate.join('&&');break;}}}writeFile('`+path+`',fi.join('@@')+'@@');refreshPage();'toast://完成!'\"}`\n})\n\n\n}else{\n    d.push({\n    title:\"没有追番。。。\",\n    desc:\"请先添加追番再试！！\",\n    col_type:\"text_center_1\"\n});\n}\n\nsetResult(d);"},{"col_type":"movie_3","name":"追番分组","path":"zffz","rule":"putVar('jl',parseInt(getVar('jl','0'),10)-1);\n\nvar inp=getVar('url1').split('&&');inp[4]=input;inp=inp.join('&&');\n\nvar xr=inp+'@@'+fetch('hiker://files/番剧更新表/我的追番.txt',{});\n\nwriteFile('hiker://files/番剧更新表/我的追番.txt',xr);\n\nrefreshPage(false);\n\n'toast://追番成功！';"},{"col_type":"movie_3","name":"sendecrypt","path":"senfun.js","rule":"function decrypt(url,vie,ch) {\nrequire('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/crypto-js/4.0.0/crypto-js.min.js');\n//eval(getCryptoJS());\r\n    let _0x40f308 = vie;\r\n    let _0x19689e = ch;\r\n    let _0x400904 = []\r\n      , _0x2c4407 = []\r\n      , _0x4c4e4b = '';\r\n    for (var _0x1ac653 = 0x0; _0x1ac653< _0x19689e.length; _0x1ac653++) {\r\n       \r\n            _0x400904.push({\r\n                'id': _0x19689e[_0x1ac653],\r\n                'text': _0x40f308[_0x1ac653]\r\n            });\r\n       \r\n    }\r\n     _0x2c4407 =_0x400904.sort(function({'id': d},{'id': e}){return d-e;});\r\n    for (var _0x1ac653 = 0; _0x1ac653< _0x2c4407.length; _0x1ac653++) {\r\n        _0x4c4e4b += _0x2c4407[_0x1ac653].text;\r\n    }\r\n    let _0x976f9f = CryptoJS.MD5(_0x4c4e4b+'favnow').toString();\r\n    let _0x1c8db4 = CryptoJS.enc.Utf8.parse(_0x976f9f.substring(16));\r\n    let _0x220097 = CryptoJS.enc.Utf8.parse(_0x976f9f.substring(0, 16));\r\n    let _0x48c6ab = CryptoJS.AES.decrypt(url, _0x1c8db4, {\r\n        'iv': _0x220097,\r\n        'mode': CryptoJS.mode.CBC,\r\n        'padding': CryptoJS.pad.Pkcs7\r\n    });\r\n    return _0x48c6ab.toString(CryptoJS.enc.Utf8);\r\n}"},{"col_type":"movie_3","name":"登录","path":"dl.html","rule":"\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: \"https://dick.xfani.com/user/login.html\",\n    desc: \"float&&100%\",\n    extra: {\n        js: $.toString(() => {\n            fy_bridge_app.writeFile('hiker://files/番剧更新表/cookie.txt', fy_bridge_app.getCookie('https://dick.xfani.com/user/login.html'));\n        })\n    }\n}])"},{"col_type":"movie_3","name":"优酷验证","path":"yk.html","rule":"\nsetResult([{\n    col_type: \"x5_webview_single\",\n    url: MY_URL,\n    desc: \"float&&100%\",\n    extra: {\n        js: $.toString(() => {\nvar a=fy_bridge_app.getCookie('');\nfy_bridge_app.log(a);\n            fy_bridge_app.writeFile('hiker://files/番剧更新表/yocookie.txt', a);\n\n        })\n    }\n}])"}],"title":"新番更新表*","author":"1606142","version":28,"type":"all","url":"hiker://empty#fypage","col_type":"long_text","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js://566\nvar res = {};\nvar d = [];\nputVar(\"jl\",0);\nfunction pin(a,b){\nreturn (b==0?'““””':'')+'<font color=\"#ef5b9c\">'+a+'</font>';\n}\nvar lb=fetch(\"hiker://files/番剧更新表/我的追番.txt\", {});\nputVar(\"lb\",lb);\nvar se='hiker://files/番剧更新表/set.txt';\ntry{\nvar fi=JSON.parse(fetch(se,{}));\n}catch(e){fi={};}\na=getVar('axe',fi.fist?fi.fist:'追番');\nif(a==\"追番\"){putVar(\"axe\",\"追番\");putVar(\"sta\",fi.col&&fi.col==1?1:0);}\nif(a!='追番')putVar('sta','');\nvar b=parseInt(MY_URL.split('#')[1]);\nif(b==1){\nd.push({\ntitle:(a==5?'““””<font color=\"red\">昨日更新</font>':'昨日更新'),\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','5');refreshPage(false);'toast://切换至昨日更新'`,\ncol_type:'text_3'\n});\nd.push({\ntitle:(a==6?'““””<font color=\"red\">今日更新</font>':'今日更新'),\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','6');refreshPage(false);'toast://切换至今日更新'`,\ncol_type:'text_3'\n});\nd.push({\ntitle:(a==7?'““””<font color=\"red\">明日更新</font>':'明日更新'),\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','7');refreshPage(false);'toast://切换至明日更新'`,\ncol_type:'text_3'\n});\nd.push({\ntitle:(a=='强势接档'?'““””<font color=\"red\">腾讯接档</font>':'腾讯接档'),\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','强势接档');refreshPage(false);'toast://切换至腾讯接档'`,\ncol_type:'text_3'\n});\nvar mode=['番剧索引','国创索引'];\nif(a.includes('索引'))\nvar mo=getVar('axe')=='番剧索引'?mode[0]:mode[1];\nd.push({\ntitle:a.includes('索引')?('““””<font color=\"red\">'+mo+'</font>'):'B站索引',\nurl:`hiker://empty@lazyRule=.js:if(getVar('axe')=='番剧索引')putVar2('axe','国创索引');else putVar2('axe','番剧索引');refreshPage(false);'toast://切换至'+getVar('axe')`,\ncol_type:'text_3'\n});\nd.push({\ntitle:a=='追番'?'““””<font color=\"red\">我的追番</font>':'我的追番',\nurl:`hiker://empty@lazyRule=.js:putVar2('axe','追番');var a=getVar(\"sta\");if(a==\"\")a=\"`+(fi.col&&fi.col==1?1:0)+`\";else a=a==1?0:1;putVar('sta',a);refreshPage(false);'toast://切换至我的追番'`,\ncol_type:'text_3'\n});}\nif(a.includes('索引')){\nvar ord=['3','0','4','2','5'];\nvar tit=['追番人数','更新时间','最高评分','播放数量','开播时间'];\nvar or=parseInt(getVar('or','0'),10);\nb<2&&d.push({col_type:'line_blank'});\nfor(var i=0;b<2&&i<ord.length;i++){\nvar tt='““””<font color=\"blue\">'+tit[i]+'</font>';\nd.push({\ntitle:or==ord[i]?tt:tit[i],\nurl:'hiker://empty#'+ord[i]+`@lazyRule=.js:var i=input.split('#')[1];putVar2('or',i);refreshPage(false);'toast://切换成功！'`,\ncol_type:'text_5'\n});}\nb<2&&d.push({col_type:'line'});\n\nvar model=['1','4'];\nvar web='https://api.bilibili.com/pgc/season/index/result?season_version=-1&area=-1&is_finish=-1&copyright=-1&season_status=-1&season_month=-1&year=-1&style_id=-1&order='+or+'&st=1&sort=0&page='+b+'&season_type='+model[(getVar('axe')=='番剧索引'?0:1)]+'&pagesize=20&type=1';\ntry{\nvar ym=JSON.parse(request(web,{})).data.list;\nfor(var i in ym){\nvar bt=ym[i].title;\nvar ind=ym[i].index_show;\nind=ind?(ind+' '):'';\nvar bt=lb.includes(ym[i].link)?(fi.col&&fi.col==1?('⭐️'+bt):pin(bt)):bt;\n\nd.push({\n\ttitle:fi.col&&fi.col==1?bt:('““””<strong>'+bt+'</strong>'),\n  desc:fi.col&&fi.col==1?(ind):('<strong>'+ind+'</strong>‘‘’’<font color=\"red\">'+ym[i].order+'</font>'),\n  pic_url:ym[i].cover+'@Referer=https://api.bilibili.com',\nurl:ym[i].link+'##'+ym[i].title+'&&'+ym[i].link+'&&'+ym[i].cover,\n\tcol_type: fi.col&&fi.col==1?'movie_3_marquee':'movie_1'\n});\n}}catch(e){}\n}else if(a=='强势接档'&&b==1){\nd.push({col_type:'line_blank'});\nvar jd=['重磅推荐','强档推荐','精选日漫'];\n\nvar jds=['.slider_nav&&.nav_link','.mod_figure&&.list_item','.mod_bd,8&&.list_item'];\nvar du=getVar('du',jds[2]);\nfor(var i in jd){\nvar tt='““””<font color=\"blue\">'+jd[i]+'</font>';\n\nd.push({\ntitle:du==jds[i]?tt:jd[i],\nurl:'hiker://empty#'+jds[i]+`@lazyRule=.js:var i=input.split('#')[1];putVar2('du',i);refreshPage(false);'toast://切换成功！'`,\ncol_type:'text_3'\n});\n\n}\nvar ten=fetch('https://v.qq.com/bk/channel/cartoon.html', {headers:{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36 Edg/105.0.1343.33\",\"Referer\":\"https://v.qq.com\"}});\nvar len='';\nif(du==jds[2]){\nvar len=parseDomForArray(ten,'.mod_listings_title&&.title_item');}\nvar le=parseDomForArray(ten,du);\n\nfor(var i in le){\ntry{\nvar ur=parseDomForHtml(le[i],'a&&href');\nvar ti=parseDomForHtml(le[i],'.title_text||a,1&&Text');\ntry{var pi=parseDomForHtml(le[i],'img&&lz_src||lz_next||src');}catch(e){var pi='';}\n\ntry{\nif(pi=='')\nvar pi=parseDomForHtml(le[i],'a&&data-bgimage');}catch(e){}\npi=pi.includes('http')?pi:('https:'+pi);\nvar de=len?('‘‘’’<font color=\"red\">'+parseDomForHtml(len[i],'.title&&Text')+'</font> <strong>'+ parseDomForHtml(len[i],'.desc&&Text||.figure_desc&&Text')+'</strong>'+'\\n<font color=\"blue\">'+parseDomForHtml(le[i],'.figure_desc&&Text')+'</font>'):parseDomForHtml(le[i],'span||.figure_caption&&Text').replace(ti,'');\nde=len||du==jds[0]?de:('‘‘’’<font color=\"red\">'+de+'</font>');\n}catch(e){}\nvar tit=lb.includes(ur)?pin(ti):ti;\nti=du==jds[0]?ti:('““””<strong>'+tit+'</strong>');\nif(ti)\nd.push({\n\ttitle:ti,\n  desc:de ,\n  pic_url:pi,\n\turl:ur+'##'+ti+'&&'+ur+'&&'+pi,\n\tcol_type: du=='.slider_nav&&.nav_link'?'pic_1':'movie_1'\n});\n\n}\n}else if(a=='追番'&&b==1){\nd1=[] ;\nd2=[];\nd3=[];\nif(lb!=''){\nfunction fenzu(arr,tag){\n  \n   arr.sort(function v(a,b){\n       var a=a.url.split('##')[1].split('&&')[4];\n       a=a==undefined||a==\"\"?\"未命名\":a;\n       var b=b.url.split('##')[1].split('&&')[4];\n       b=b==undefined||b==\"\"?\"未命名\":b;\n       return b-a;\n   });\n   \n  var rq=[];\n   var g=arr.map((a,b,c)=>{\n       var f=a.url.split('##')[1].split('&&')[4];\n       f=f==undefined||f==\"\"?\"未命名\":f;\n   \n       c=c.filter(e=>{\n           var e1=e.url.split('##')[1].split('&&')[4];\n           e1=e1==undefined||e1==\"\"?\"未命名\":e1;\n           if(f==e1)return e;\n       }).map(a=>{a.extra={id:tag+f+\"item\"};return a;});\n  \n       return {\n           title:\"““””\"+pin(f)+\" 分组\",\n           url:`hiker://empty#noLoading#@lazyRule=.js:var tf=\"`+(tag+f)+`\";var a=getVar(tf);if(a==\"\")putVar(tf,1);else putVar(tf,\"\");var de=[];for(let i of `+JSON.stringify(c)+`){if(a==\"\")addItemAfter(tf, i);else deleteItem(tf+'item');/*de.push(tf+'item');*/}a==\"\"?\"toast://已展开！\":\"toast://已关闭！\";`,\n           extra:{id:tag+f},\n          col_type:\"text_center_1\"\n       };\n   }).filter((a)=>{if(b==0||!rq.join(\"%#\").includes(a.title)){rq.push(a.title);return a;}});\n   /*\n    if(getVar(tag+lsf)==1)\n       for(let i of lsc)\n         addItemAfter(tag+lsf, i);\n         */\n   return g;\n}\nvar xx=lb.split('@@');\n\nvar u=xx.map(function(a){\nvar b=a.split('&&')[1];\nif(b&&b.includes('iqiyi'))return {url:b,options:{headers:{\"User-Agent\":MOBILE_UA},timeout:2000}};\nelse if(b&&b.includes('youku'))return {url:b,options:{timeout:2000}};else if(b&&b.includes('qq.')){return {url:b+'?n_version=2020',options:{headers:{\"User-Agent\":PC_UA},timeout:2000}};}else if(b&&b.includes('xfani.'))return {url:b,options:{headers:{\"User-Agent\":MOBILE_UA,'Cookie':getItem('senC')},timeout:3000}};else{return {url:b,options:{headers:{\"User-Agent\":PC_UA},timeout:2000}};}\n});\n\nvar y=batchFetch(u);\n\nfor(var k in xx){\ntry{\nvar x=xx[k].split('&&');\nif(x[1]!=''){\n\nvar ym=y[k];\ntry{\nif(x[1].includes('bilibili')){\nvar des='<font color=\"blue\">'+JSON.parse(ym.split('newestEp\":')[1].split('}')[0]+'}').desc+'</font>';\ntry{\nvar ep=JSON.parse(ym.split('\"epList\":')[1].split('}]')[0]+'}]'); \n}catch(e){ep=[];}\nif(ep.length==0)gxz=0;\nelse{\nfor(var i=ep.length-1;ep[i].badge=='预告';i--);\nvar gxz=\"第\"+ep[i].title+\"话\";}}\n}catch(e){gxz='最新状态获取失败！';}\n\ntry{\n\nif(x[1].includes('qq')){\neval(pdfh(ym,'head&&script,12&&Html').replace(/wind.*?=/,'htm='));\nvar epi=htm.global.coverInfo.video_ids;\nvar le=fetch('https://union.video.qq.com/fcgi-bin/data?otype=json&tid=682&appid=20001238&appkey=6c03bbe9658448a4&union_platform=1&idlist='+epi.slice(-10).reverse().join(','),{timeout:2000});\neval(le);\nvar le=QZOutputJson.results.filter(a=>{if(!a.fields.category_map.join(',,').includes('预告'))return a;});\nvar ti=le[0].fields.episode;\nvar gxz=ti!=0?('第'+ti+'话'):le[0].fields.title;\n/*\nif(gxz=='第0话'){\ndes='<font color=\"blue\">'+htm.update_notify_desc+'</font>';\n}*/\n}\n}catch(e){gxz='最新状态获取失败！';}\n\ntry{\nif(x[1].includes('iqiyi')){\n\nvar gxz=\"第\"+ym.match(/latestOrder\".*?(\\d+)/)[1]+\"话\";\n}\n}catch(e){gxz='最新状态获取失败！';}\n\ntry{\nif(x[1].includes('youku')){\nvar gxz=\"第\"+ym.match(/episodeLast\".*?(\\d+)/)[1]+\"话\";\n}\n\n}catch(e){gxz='最新状态获取失败！';}\n\n\n    if(x[1].search(/xfani|omofun/)>0){\n        for(let i=0;i<1;i++){\n            try{\n                if(i!=0)\n                ym=fetch(x[1],{headers:{\"User-Agent\":MOBILE_UA,'Cookie':getItem('senC')}});\n            var li=pdfa(ym,'body&&.module-play-list-link');\n        var gxz=pdfh(li[li.length-1],'a&&Text');\n        if(gxz!=''){putVar(x[1],ym);break;}\n        else qztc;\n        \n        }catch(e){gxz='最新状态获取失败！';}\n       } \n        \n    }\n\nvar pic=x[2].split('/');\nif(pic[2]=='puui.qpic.cn')x[2]=pic.slice(0,-1).join('/')+'/0';\nx[2]=x[2]+'@Referer='+x[1];\nif(gxz=='最新状态获取失败！'){\nd2.push({\n\ttitle: getVar('sta')==1?x[0]:('““””<font color=\"grey\">'+x[0]+'</font>'),\n  pic_url: x[2],\ndesc:getVar('sta')==1?(x[3]&&x[3]!=''?('观看至 '+x[3]):('未观看')):((x[3]&&x[3]!=''?('观看至 ‘‘'+x[3]+'’’'):('‘‘未观看’’'))+'\\n更新至 <font color=\"red\">'+gxz+'</font>'),\n\turl:x[1]+'##'+xx[k]+'##',\n\tcol_type:( getVar('sta')==1?'movie_3_marquee':'movie_1_vertical_pic')\n});\n}else{\nif(x[3]&&x[3].search(/\\d/)>-1&&x[3].match(/第.*?/)==null)x[3]=\"第\"+x[3]+\"话\";\ntry{\nif(x[3].match(/\\d+/)[0]==gxz.match(/\\d+/)[0])x[3]=gxz;\n}catch(e){}\nif(x[3]!=gxz)\nd3.push({\n\ttitle: getVar('sta')==1?x[0]:pin(x[0],0),\n  pic_url: x[2],\ndesc:getVar('sta')==1?(x[3]&&x[3]!=\"\"?('观看至 '+x[3]):('未观看')):((x[3]&&x[3]!=\"\"?('观看至 '+(x[3]!=gxz?('““'+x[3]+'””'):('‘‘'+x[3]+'’’'))):(gxz=='第0话'||gxz==0?des:'‘‘未观看’’'))+'\\n更新至 '+(x[3]&&x[3]!=\"\"&&x[3]!=gxz?('““'+gxz+'””'):('‘‘'+gxz+'’’'))),\n\turl:x[1]+'##'+xx[k]+'##',\n\tcol_type: ( getVar('sta')==1?'movie_3_marquee':'movie_1_vertical_pic')\n});\nelse\nd1.push({\n\ttitle: x[0],\n  pic_url: x[2],\ndesc:getVar('sta')==1?('观看至 '+x[3]):((x[3]&&x[3]!=\"\"?('观看至 '+(x[3]!=gxz?('““'+x[3]+'””'):('‘‘'+x[3]+'’’'))):('‘‘未观看’’'))+'\\n更新至 '+(x[3]&&x[3]!=\"\"&&x[3]!=gxz?('““'+gxz+'””'):('‘‘'+gxz+'’’'))),\n\turl:x[1]+'##'+xx[k]+'##',\n\tcol_type: ( getVar('sta')==1?'movie_3_marquee':'movie_1_vertical_pic')\n});\n}\n}\n}catch(e){}\n}\nif(getVar('sta')==1){\n/*\nlog(d3);\nlog(fenzu(d3));\n*/\nif(d1!='')\nd1=[{\ntitle:'⭐️以下番剧未有更新:',\ncol_type:'text_1'\n}].concat(fi.fz&&fi.fz==1?fenzu(d1,\"未更新\"):d1);\n\nif(d3!='')\nd3=[{\ntitle:'⭐️以下番剧待看:',\ncol_type:'text_1'\n}].concat(fi.fz&&fi.fz==1?fenzu(d3,\"已更新\"):d3);\n\nif(d2!='')\nd2=[{\ntitle:'⭐️以下番剧获取更新失败:',\ncol_type:'text_1'\n}].concat(fi.fz&&fi.fz==1?fenzu(d2,\"失败\"):d2);\n\nd=d.concat(d3,d1,d2);\n}else{\n    var dd=d3.concat(d1,d2);\n    d=d.concat(fi.fz&&fi.fz==1?fenzu(dd,\"全部\"):dd);\n}\n\n\n}else\nd.push({\n\ttitle:'““还没有追番！””',\nurl:`hiker://empty@lazyRule=.js:refreshPage(false);'toast://刷新完毕！'`,\ndesc:'点击刷新',\n\n\tcol_type: 'text_center_1'\n});\n\n}else if(b==1){\nvar st=a==7?'':'““””<font color=\"red\">+</font> ';\nvar cs=0;\nvar n=a==7?'明日 ':(a==6?'今日 ':'昨日 ');\n//https://www.bilibili.com/anime/timeline\nvar h=new Date().getHours();\nvar m=new Date().getMinutes();\nvar si=h*60+m;\n\nvar y1=fetch('https://bangumi.bilibili.com/web_api/timeline_global',{});\nvar ym1=JSON.parse(y1).result[a].seasons;\nvar y2=fetch('https://bangumi.bilibili.com/web_api/timeline_cn',{});\nvar ym2=JSON.parse(y2).result[a].seasons;\nvar y=y1+y2;\nvar ym=ym1.concat(ym2);\nvar Da=new Date();\ntry{\n var Y=Da.getFullYear();   \nvar M=Da.getMonth()+1;\n\nvar D=Da.getDate();\n\nD=a==5?(D-1):(a==6?D:(D+1));\nif(D<=0){M--;\nif(M<=0){Y--;M=12;}\nD=new Date(Y,M,0).getDate();\n\n}\nif(M<10)M='0'+M;\nif(D<10)D='0'+D;\ndata=''+Y+M+D;\nlog(data);\n//log(Y+','+M);\n    var ym3=[];\n//合并排序开始\n\nvar ym3=JSON.parse(fetch('https://pbaccess.video.qq.com/com.tencent.qqlive.protocol.pb.VLPageService/getVLCard?video_appid=3000010',{headers:{\"Referer\":\"https://v.qq.com/channel/cartoon?channel_2022=1\",\"Origin\":\"https://v.qq.com\"},method:'POST',body:`{\"page_params\":{\"page_id\":\"100119\",\"page_type\":\"channel\",\"week\":\"`+data+`\"},\"flip_info\":{\"page_strategy_id\":\"bfdd0139dcb844758815473f1f4a9ee6\",\"page_module_id\":\"72_115bb\"}}`})).data.card.children_list.list.cards.slice(7).filter(a=>{try{\n  if(a.params.pay_episode&&a.params.pay_time){ \n    a.pub_time=a.params.pay_time;\n    a.square_cover=a.params.image_url;\n    a.pub_index=a.params.pay_episode;\n    a.title=a.params.title; a.url='https://v.qq.com/x/cover/'+a.params.cid+'.html'\nreturn a;\n}\n}catch(e){return undefined;}\n});\n\n\n}catch(e){ym3=[];}\n\nym=ym.concat(ym3);\n\nym=ym.sort(function v(a,b){\n\nvar aa=a.pub_time;\n\nvar c=parseInt(aa.split(':')[0],10)*60+parseInt(aa.split(':')[1],10);\nvar bb=b.pub_time;\nvar d=parseInt(bb.split(':')[0],10)*60+parseInt(bb.split(':')[1],10);\n\nreturn c-d;\n});\n\n//d.push({title:ym});\n//合并排序结束\n\n\n\nh=h<10?('0'+h):h;\nm=m<10?('0'+m):m;\n\nfor(var i in ym){\n\nvar ti=ym[i].pub_time;\n\nif(a==6){\nvar sii=parseInt(ti.split(':')[0],10)*60+parseInt(ti.split(':')[1],10);\n\n\nif(si<sii&&cs==0){\nd.push({title:'当前时间：““'+h+':'+m+'””',\nurl:`hiker://empty@lazyRule=.js:refreshPage(false);'toast://刷新完毕！'`,\ndesc:'点击刷新',\ncol_type:'text_center_1'\n});\ncs++;\nst='';\n}\n}\n\nvar nn=st==''?'即将更新 ':'已更新至 ';\nvar u=ym[i].url;\nvar bt=ym[i].title;\n\n//bt=bt.slice(0,25)+(bt.length>25?'...':'');\nvar zf=lb.includes(u)?pin(bt,st==''?0:1):bt;\nvar de='<strong>'+n+'</strong>‘‘’’<font color=\"#ff8000\"> '+ti+' </font>更新';\nst1=ym[i].pub_index?st:'';\nvar dr=ym[i].delay_reason;\nind=ym[i].pub_index;\ntry{\nif(ind.match(/\\d+/)[0]==ind)ind='第'+ind+'话';\n}catch(e){}\nd.push({\n\ttitle: st1+'““””<strong>'+zf+'</strong>'+'\\n'+(ind?(nn+'<font color=\"blue\">'+(ind)+'</font>'):('<font color=\"grey\">'+'本周停更 '+ym[i].delay_index+'</font>')),\n  desc:!dr?de:('<del>'+de+'</del>'),\n  pic_url: ym[i].square_cover+(u.includes('bilibili')?'@Referer=https://www.bilibili.com':''),\n\turl:u+'##'+ym[i].title+'&&'+u+'&&'+ym[i].square_cover+'##',\n\tcol_type: 'movie_1'\n});\n\nif(a==6&&si>=sii&&i==ym.length-1){\nd.push({title:'当前时间：““'+h+':'+m+'””',\nurl:`hiker://empty@lazyRule=.js:refreshPage(false);'toast://刷新完毕！'`,\ndesc:'今日番剧已全部更新，感谢使用！',\ncol_type:'text_center_1'\n});\n}\n\n}\n}\nres.data = d;\nsetHomeResult(res);\nd=d.filter(a=>{\ntry{\n    if(a.extra.id)return a;\n}\ncatch(e){}\n});\n\nfor(let i of d){\n    if(getVar(i.extra.id)==1){\n        putVar(i.extra.id,\"\");\n    eval(i.url.split(\"@lazyRule=.js:\")[1]);\n}\n}","searchFind":"js:\nvar res = {};\nvar d = [];\n\nvar na=MY_URL.split('#')[1];\nvar page=MY_URL.split('#')[2];\nvar lb1=fetch(\"hiker://files/番剧更新表/我的追番.txt\", {});\nif(page==1){\nvar bu=[{url:'https://dick.xfani.com/search.html?wd='+na},{url:''},{url:'https://v.qq.com/x/search/?q='+na,options:{headers:{\"User-Agent\":PC_UA}}\n},{url:'https://so.iqiyi.com/so/q_'+na,options:{headers:{\"User-Agent\":PC_UA}}\n}];\n\n/*\nvar x=['media_bangumi','media_ft'];\nvar y=[];\ntry{\nfor(var jj=0,g=0;jj<x.length;jj++){\nvar ym1=fetch('https://api.bilibili.com/x/web-interface/search/type?keyword='+na+'&page=1&search_type='+x[jj]+'&order=totalrank&pagesize=20',{});\nvar num=JSON.parse(ym1).data.numPages;\ny.push(ym1);\nfor(var j=2;j<=num&&j<4;j++){\nbu.push({url:'https://api.bilibili.com/x/web-interface/search/type?keyword='+na+'&page='+j+'&search_type='+x[jj]+'&order=totalrank&pagesize=20'});\ng++;\n}}\n}catch(e){}\n\nvar y=y.concat(ymb.splice(5,g)).map(a=>JSON.parse(a).data.result).reduce((a,b)=>{if(b)return a.concat(b);else return a;},[]);\n*/\n\nvar ymb=batchFetch(bu);\n\ntry{\n/*\n    var ym=request('https://www.xfani.com/search.html?wd='+na);\n*/\nfor(var ii=0;ii<1;ii++){\nvar ym=ymb[ii];\n    var li=pdfa(ym,'body&&.module-card-item');\n  if(li!='') d.push({\n\ttitle: bu[ii].url.split('.')[1]+'搜索内容…' });\n for (let i of li){\n        var t=pdfh(i,'.module-card-item-class&&Text');\n    if(t!='钛合金'){\n        var bt=pdfh(i,'.module-card-item-title&&Text');\n        var ur='https://'+bu[ii].url.split('/')[2]+pdfh(i,'a&&href');\n        var pi=pdfh(i,'img&&data-original');\nvar zf=lb1.includes(ur)?'<small>我的追番 </small>':'';\n    d.push({\n        title:zf+bt,\n        img:pi,\n        desc:pdfh(i,'.module-item-note&&Text'),\n        content:pdfh(i,'.module-info-item-content&&Text'),\n        url:ur+'##'+bt+'&&'+ur+'&&'+pi+'##'\n    });\n}\n}\n}\n}catch(e){d.push({\n\ttitle: '其他搜索错误' });}\n/*\ntry{\nif(y!=null&&y.length>0)d.push({\n\ttitle: '哔哩搜索内容…' });\nfor(var i=0;y!=null&&i<y.length;i++){\nyi=y[i];\nvar ti=yi.title.replace(/<em class=\"keyword\">|<\\/em>/g,'');\nif(ti.includes(na)){\nvar zf=lb1.includes('ss'+y[i].season_id)?'<small>我的追番 </small>':'';\n\nd.push({\ntitle:zf+ti,\nimg:yi.cover+'@Referer=https://api.bilibili.com',\ndesc:yi.styles,\ncontent:yi.desc,\nurl:yi.goto_url+'##'+ti+'&&https://www.bilibili.com/bangumi/play/ss'+yi.season_id+'&&'+y[i].cover+'##'\n});\n}\n}\n}catch(e){d.push({\n\ttitle: '哔哩搜索错误' });}\n*/\ntry{\n/*\nvar ym=fetch('https://v.qq.com/x/search/?q='+na,{headers:{\"User-Agent\":PC_UA}});\n*/\nvar ym=ymb[2];\nputVar('tx',ym);\nvar len=parseDomForArray(ym,'body&&._infos');\nif(len!='') d.push({\n\ttitle: '腾讯搜索内容…' });\n/*\ntry{\nvar len1=parseDomForArray(ym,'.figures_list&&.list_item');\nlen=len.concat(len1);\n}catch(e){}\n*/\nfor(var j in len){\ntry{var des=parseDomForHtml(len[j],'.figure_caption||.result_score||.figure_desc&&Text');}catch(e){des='';}\n/*\ntry{\nf=des.split(':').map(Number);\nvar time=f[0]*3600+f[1]*60+f[2];\n}catch(e){var des='';}\n*/\ntry{var yg=parseDomForHtml(len[j],'.mark_v&&img&&alt');}catch(e){var yg='没有';}\ntry{\nvar ur=parseDomForHtml(len[j],'a&&href');\nif(ur.includes('search_redirect')&&ur.includes('url=')&&ur.search(/iqiyi.|youku.|bilibili/)>-1)ur=decodeURIComponent(ur.split('url=')[1]);\nelse if(ur.includes('search_redirect'))ur='';\nif(!yg.includes('预告')&&ur!=''){\ntry{var con=parseDomForHtml(len[j],'.desc_text&&Text');}catch(e){var con='';}\nvar bt=parseDomForHtml(len[j],'img&&alt');\nvar pi=parseDomForHtml(len[j],'img&&src');\nif(!pi.includes('http'))pi='https:'+pi;\nvar zf=lb1.includes(ur)?'<small>我的追番 </small>':'';\nd.push({\n\ttitle: zf+bt, \ndesc:des,\ncontent:con,\n  pic_url:pi,\n\turl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\n});\n}}catch(e){}\n}\n}catch(e){d.push({\n\ttitle: '腾讯搜索错误' });}\n\ntry{\n/*\nvar ym=fetchCodeByWebView('https://so.iqiyi.com/so/q_'+na,{headers:{\"User-Agent\":PC_UA}});\n*/\nvar ym=ymb[3];\nputVar('iqiyi',ym);\nvar resu=parseDomForArray(ym,'body&&.qy-search-result-item');\n\nif(resu!='') d.push({\n\ttitle: '爱奇艺搜索内容…' });\nfor(var i of resu){\ntry{\n\nvar pd=parseDomForHtml(i,'.item-type&&Text');\nvar pd2=parseDomForHtml(i,'.player-name&&Text');\n\nif(pd.match(/电视剧|电影|动漫|知识/g)[0]!=''&&pd2.match(/爱奇艺|腾讯|优酷|bilibili/g)[0]!=''){\n\nvar bt=parseDomForHtml(i,'a&&title');\nvar pi=parseDomForHtml(i,'img&&src');\nif(!pi.includes('http'))pi='https:'+pi;\nvar ur=parseDomForHtml(i,'a&&href').split('?')[0];\nif(!ur.includes('http'))ur='https:'+ur;\nvar zf=lb1.includes(ur)?'<small>我的追番 </small>':'';\n\nvar des=parseDomForHtml(i,'.qy-mod-label&&Text');\nvar con=parseDomForHtml(i,'.info-des,2||.info-des||.sub-txt&&Text');\n\nd.push({\n\ttitle: zf+bt, \ndesc:des,\ncontent:con,\n  pic_url:pi+'@Referer=https://www.iqiyi.com',\n\turl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\n});}}catch(e){}\n}\n}catch(e){d.push({\n\ttitle: '爱奇艺搜索错误' });}\n/*\ntry{\n\nvar ym=fetchCodeByWebView('https://so.youku.com/search_video/q_'+na,{headers:{'User-Agent':PC_UA}});\nlog(ym);\nvar lis=parseDomForArray(ym,\"body&&div[data-name]\");\nif(lis!='') d.push({\n\ttitle: '优酷搜索内容…' });\nfor(var i in lis)\nif(parseDomForHtml(lis[i],\".poster-desc_uTT1A&&Text\")!=\"\"&&parseDomForHtml(lis[i],\".video-source_2I2-h&&Text\")==\"\")\n{\nbt=parseDomForHtml(lis[i],\"a,1&&Text\");\nur=parseDom(lis[i],\"a&&href\");\npi=lis[i].match(/\\(http.*?\\)/)[0].replace(/\\(|\\)/g,\"\");\nvar zf=lb1.includes(ur)?'<small>我的追番 </small>':'';\nd.push({\ntitle:zf+bt,\ndesc:parseDomForHtml(lis[i],\".poster-desc_uTT1A&&Text\"),\ncontent:parseDomForHtml(lis[i],\".info&&Text\"),\nimg:pi,\nurl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##'\n});}\n}catch(e){d.push({\n\ttitle: '优酷搜索错误' });}\n*/\n\nif(d.length==0)page++;\n}\n if(page==2){\nvar ym=getVar('tx');\nvar ym1=getVar('iqiyi');\nclearVar('tx');clearVar('iqiyi');\nif(ym!=''){\nvar len=parseDomForArray(ym,'.figures_list&&li');\nif(len!='')d.push({\n\ttitle: '腾讯增强扩展…' });\nfor(var i of len){\n\n\nvar ur=parseDomForHtml(i,'a&&href');\nif(ur.includes('search_redirect')&&ur.includes('url=')&&(ur.includes('iqiyi.')||ur.includes('bilibili.')))ur=decodeURIComponent(ur.split('url=')[1]);\nelse if(ur.includes('search_redirect'))ur='';\nif(!i.includes('预告')&&ur!=''){\nvar bt=parseDomForHtml(i,'a,1&&title');\nvar pi=parseDom(i,'img&&src');\nvar zf=lb1.includes(ur)?'<small>我的追番 </small>':'';\n\nd.push({\ntitle:zf+bt,\nurl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\npic_url:pi,\ndesc:parseDomForHtml(i,'.figure_info&&Text'),\ncontent:parseDomForHtml(i,'.score_l&&Text')+'  '+parseDomForHtml(i,'.figure_desc&&Text'),\n});}\n}\n}\nif(ym1!=''){\n\nvar resu=parseDomForArray(ym1,'body&&.qy-mod-list&&li');\nif(resu!='')d.push({\n\ttitle: '爱奇艺增强扩展…' });\nfor(var i of resu){\ntry{\n\nvar bt=parseDomForHtml(i,'a&&title');\nvar pi=parseDomForHtml(i,'img&&src');\nvar ur=parseDomForHtml(i,'a&&href').split('?')[0];\nvar zf=lb1.includes(ur)?'<small>我的追番 </small>':'';\nif(!ur.includes('http'))ur='https:'+ur;\n\nif(!pi.includes('http'))pi='https:'+pi;\n\nvar des=parseDomForHtml(i,'.qy-mod-label&&Text');\nvar con=parseDomForHtml(i,'.info-des,2||.info-des||.sub-txt&&Text');\n\nd.push({\n\ttitle: zf+bt, \ndesc:des,\ncontent:con,\n  pic_url:pi+'@Referer=https://www.iqiyi.com',\n\turl:ur+'##'+bt+'&&'+ur+'&&'+pi+'##',\n});}catch(e){}\n}\n}\n}\nelse if(page==3){\nd.push({title:'搜索不到？关键词尽量精确'});\n}\nres.data = d;\nsetSearchResult(res);","search_url":"hiker://empty#**#fypage","group":"#️⃣四大皆空坏","detail_col_type":"movie_2","detail_find_rule":"js:\neval(getItem('aa').split('/**/')[1]);","sdetail_col_type":"movie_2","sdetail_find_rule":"js:\neval(getItem('aa').split('/**/')[1]);","ua":"mobile","preRule":"function tb(name){\nvar rou=\"hiker://files/番剧更新表/\"+name;\nvar ym=fetch(rou,{});\nvar rul=\"hiker://files/rules/番剧更新表/\"+name;\nvar ser=fetch(rul,{});\nif(ym!=''&&ym!=ser)writeFile(rul,ym);\nif(ym=='')writeFile(rou,ser);\n}\ntb('我的追番.txt');\ntb('cookie.txt');\ntb('set.txt');\nvar fz=JSON.stringify(fetch(\"hiker://files/番剧更新表/我的追番.txt\",{}).split('@@').map(a=>{return a.split('&&')[4];}).filter((a,b,c)=>{if(a&&b==0||!c.slice(0,b).join('&#').includes(a))return a;}).concat([\"““新建分组””\"]));\n\nsetItem('la1', `select://{\"title\": \"选择分组\", \"options\" :`+fz+`, col: 3, js: \"if(input=='““新建分组””'){\\`input://{\\\\\"js\\\\\": \\\\\"eval(JSON.parse(fetch('hiker://page/zffz',{})).rule);\\\\\", \\\\\"hint\\\\\": \\\\\"新建分组名称…\\\\\"}\\`;}else{eval(JSON.parse(fetch('hiker://page/zffz',{})).rule);}\"}`);\n\nsetItem('la2', `hiker://empty@lazyRule=.js:putVar(\"jl\",parseInt(getVar(\"jl\",\"0\"),10)-1);var v=getVar('url1');var lb=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{});input=v.split('&&')[0];pd=v.split('&&')[1].split('?')[0];for(i=0;input!='';i++){try{if(i!=0)input=input.slice(0,-1);var sc=new RegExp(input+'[\\\\\\\\s\\\\\\\\S]{'+(i+2)+'}'+pd+'[\\\\\\\\s\\\\\\\\S]*?@@','g');var xr=lb.replace(sc,'');if(!xr.includes(pd)){writeFile(\"hiker://files/番剧更新表/我的追番.txt\",xr);break;}}catch(e){}}/*var sc=new RegExp(v+'@@','g');xr=lb.replace(v+'@@','');writeFile(\"hiker://files/番剧更新表/我的追番.txt\",xr);*/refreshPage(false);'toast://取消追番成功！'`);\n\nsetItem('rC', `var m=[];var li=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{}).split('@@').filter(a=>{return a!='';});var s=input.split('##');input=s[0];for(var i in li){var j=li[i].split('&&');if(getVar('url').includes(j[1])){if(j[3]!=s[1]){j[3]=s[1];var j1=j.join('&&');li.splice(i,1);m=m.concat(j1,li).join('@@')+'@@';writeFile(\"hiker://files/番剧更新表/我的追番.txt\",m);break;}else break;}}`);\n\nsetItem('aa', `@rule=js:/**/setItem('senC',request('hiker://files/番剧更新表/cookie.txt'));if(getVar('xl')==''&&getVar('tj')==''&&getVar(\"ii\")==\"\")putVar(\"jl\",parseInt(getVar(\"jl\",\"0\"),10)+1);var se='hiker://files/番剧更新表/set.txt';var fis=fetch(se,{});if(fis==''){var fis=JSON.stringify({dm:'关',bili:'关'});writeFile(se,fis);}fi=JSON.parse(fis);var mo=getVar('model');putVar('model','');var res1 = {};var d1 = [];d=[];d2=[];try{var ym=fetch('hiker://files/番剧更新表/ym');if(ym==''){var url=MY_URL.split('##')[0];if(url.includes('iqiyi.co')){var ym=getResCode().replace(/\\\\u002F/g,'/').replace(/videoUrl/g,'pageUrl');}else if(url.includes('youku.co'))var ym=fetchCodeByWebView(url,{headers:{'User-Agent':PC_UA},timeout:2000,redirect:false});else if(url.includes('qq.co')){var ym=fetch(url.replace('.html','.html?n_version=2020'), {headers:{\"User-Agent\":PC_UA}}).replace(/\\\\u002F/g,'/');}else if(url.includes('xfani.')){var ym=fetch(url, {headers:{\"User-Agent\":PC_UA,'Cookie':getItem('senC')}});}else var ym=fetch(url, {headers:{\"User-Agent\":PC_UA}}).replace(/\\\\u002F/g,'/');writeFile('hiker://files/番剧更新表/ym',ym);}try{var quan=pdfh(ym,'.intro-wrapper__status&&Text').match(/全\\\\d*集/)[0];}catch(e){var quan='';}putVar('url',MY_URL.split('##')[0]);var lb=fetch(\"hiker://files/番剧更新表/我的追番.txt\",{});function colo(a,b,c){if(a=='')a=c;if(getItem('yz', '')!='1'){var li=lb.split('@@').filter(a=>{return a!='';});if(li==''||!li.join('@@').includes(getVar('url'))){setItem('yz', '1');return a;}for(var i in li){var j=li[i].split('&&');if(getVar('url').includes(j[1])&&j.length>=4&&(a==j[3]||c==j[3]||a.search(/\\\\d+/)>-1&&j[3].search(/\\\\d+/)>-1&&a.match(/\\\\d+/)[0]==j[3].match(/\\\\d+/)[0])){setItem('yz', '1');if(b==undefined)return '⭐️'+a;else return '““'+a+'””';}}}return a;}if(MY_URL.includes('bilibili.')){var nam=parseDomForHtml(ym,'.bilibili-player-pgcinfo-name&&Text');}else if(MY_URL.includes('qq.')){nam=ym.match(/,\"title\":\"(.*?)\"/)[1];}else var nam=parseDomForHtml(ym,'.tit||h1&&Text');setPageTitle(nam);var info=MY_URL.split('##')[1];putVar('url1',info);if(info){info=info.split('&&');info[0]=nam; info=info.join('&&');var q=info.split('&&')[1];if(q.slice(-1)=='/')q=q.split('/').slice(0,-1).join('/'); var pd=lb.includes(q);var la=pd?getItem('la2'):(fi.fz&&fi.fz==1?getItem('la1'):('hiker://empty@lazyRule=.js:input=\"\";'+JSON.parse(fetch('hiker://page/zffz',{})).rule));try{var wj=fetch('hiker://files/rules/DuanNian/MyParse.json',{});if(wj!=\"\"){eval('jx='+wj);eval(fetch(jx.settings.cj,{}));}else eval(fetch('hiker://files/cache/Parse_Dn.js',{}));}catch(e){}try{var dc=\"d.push({col_type:'line_blank'});d.push({title:'点击配置断插！',url:\\\\\"\"+(setUrl)+\"\\\\\",col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'测试断插！',desc:'使用前先备份数据！！！',col_type:'text_1',url:'hiker://empty@rule='+JSON.parse(fetch('hiker://page/ceshi.html',{})).rule});d.push({col_type:'line_blank'});\";}catch(e){var dc=\"\";}var ej=\"hiker://empty@rule=js:setPageTitle('设置');var se='hiker://files/番剧更新表/set.txt';var fis=fetch(se,{});var res = {};var d = [];var fi=JSON.parse(fis);d.push({title:'登录xfani获取cookie!',url:\\`hiker://empty@rule=js:eval(JSON.parse(request('hiker://page/dl.html')).rule);\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'当前““'+(fi.dm=='关'?'关闭':'开启')+'””弹幕(爱奇艺、优酷不支持！)',url:\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.dm=(fi.dm=='关'?'开':'关');writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});d.push({col_type:'line_blank'});if(fetch('hiker://files/番剧更新表/cache.txt',{})!=''){d.push({title:'当前““'+(fi.bili=='关'?'关闭':'开启')+'””哔哩大会员直链',url:\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.bili=(fi.bili=='关'?'开':'关');writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});d.push({col_type:'line_blank'});}d.push({title:'当前““'+(fi.yg==1?'开启':'关闭')+'””腾讯预告',/*desc:'点击切换',*/url:\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.yg=(fi.yg==1?0:1);writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'当前““'+(fi.col?(fi.col==0?'列表':'九宫格'):'列表')+'””显示我的追番、B站索引样式！',url:(fi.col?fi.col:0)+\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.col=(input==0?1:0);writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});d.push({col_type:'line_blank'});switch(fi.fist?fi.fist:'追番'){case '5':fist='昨日更新';break;case '6':fist='今日更新';break;case '7':fist='明日更新';break;case '强势接档':fist='腾讯接档';break;case '番剧索引':fist='B站索引';break;default:fist='我的追番';}d.push({title:'首次打开启动 ““'+fist+'””',url:\\`select://{title: '选择...', options:['昨日更新','今日更新','明日更新','腾讯接档','B站索引','我的追番'] , col: 2, js:\\\\\"var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));switch(input){case '昨日更新':fi.fist='5';break;case '今日更新':fi.fist='6';break;case '明日更新':fi.fist='7';break;case '腾讯接档':fi.fist='强势接档';break;case 'B站索引':fi.fist='番剧索引';break;default:fi.fist='追番';}writeFile(se,JSON.stringify(fi));refreshPage(false);'toast://切换成功！'\\\\\"}\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'当前使用““'+(fi.so?(fi.so[1]+(fi.so[0]==0?' 分组':' 小程序')):'全部 分组')+'””搜索',url:\\`select://{title: '选择二级搜索模式...', options:['搜索分组','搜索小程序'] , col: 2, js:\\\\\"eval(JSON.parse(fetch('hiker://page/so.html',{})).rule);\\\\\"}\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'当前一页显示““'+(fi.ji?fi.ji:10)+'””集',url:\\`input://{\\\\\"js\\\\\": \\\\\"var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));try{input=input.match(/[0-9]+/)[0]}catch(e){input=0;};if(input>0){fi.ji=input;writeFile(se,JSON.stringify(fi));refreshPage(false);'toast://更改成功！'}else{'toast://请输入大于0的数！！'}\\\\\", \\\\\"hint\\\\\": \\\\\"请输入数字…\\\\\"}\\`,col_type:'text_1'});d.push({col_type:'line_blank'});d.push({title:'当前““'+(fi.fz?(fi.fz==0?'关闭':'开启'):'关闭')+'””追番页面分组',url:(fi.fz?fi.fz:0)+\\`@lazyRule=.js:var se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.fz=(input==0?1:0);writeFile(se,JSON.stringify(fi));refreshPage(false);\\\\\"toast://切换成功！\\\\\"\\`,col_type:'text_1'});if(fi.fz&&fi.fz==1){d.push({title:'=>番剧分组',url:'hiker://empty@rule='+JSON.parse(fetch('hiker://page/classify',{})).rule,col_type:'text_1'});}\"+dc+\"addListener('onClose',$.toString(()=>{putVar('ii','\"+getVar('ii')+\"');var fi=JSON.parse(fetch('\"+se+\"',{}));delete fi.fz;delete fi.col;delete fi.fist;fi=JSON.stringify(fi);var fis=JSON.parse('\"+fis+\"');delete fis.fz;delete fis.col;delete fis.fist;fis=JSON.stringify(fis);if(fi!=fis)refreshPage(false);}));res.data = d;setSearchResult(res);                          \";d1.push({ title:info.split('&&')[0], img:info.split('&&')[2], url:ej, col_type: 'icon_2_round' });d1.push({ title:(pd?'‘‘取消追番’’':'““+追番””'), url:la, col_type: 'text_2' });}try{var des=JSON.parse(ym.split('newestEp\":')[1].split('}')[0]+'}').desc;}catch(e){try{eval(pdfh(ym,'head&&script,12&&Html').replace(/wind.*?=/,'htm='));var des=htm.introduction.introData.list[0].item_params.update_notify_desc;if(!des)des='无';nam=htm.introduction.introData.list[0].item_params.title;}catch(e){try{var a=ym.match(/updateStrategy\".*?\"(.*?)\"/)[1];}catch(e){a='';}var des=a+parseDomForHtml(ym,'.brief-score&&Text')+parseDomForHtml(ym,'.info-updata&&Text');if(MY_URL.includes('xfani.')){des=pdfa(ym,'body&&.module-info-item');des=pdfh(des[des.length-2],'div&&Text');}}}try{var jianj=parseDomForHtml(ym,'head&&meta[name=\"description\"]&&content');if(jianj=='')jianj=ym.match(/\"desc\":\"(.*?)\"/)[1];}catch(e){if(MY_URL.includes('qq'))jianj=htm.global.coverInfo.description;}if(jianj)jianj=jianj.replace(/[\\\\s\"']/g,'');else jianj='无';d1.push({title:'<font color=\"purple\"><strong><big>'+nam+'</big></strong></font>--<font color=\"blue\">'+MY_URL.split('.')[1]+'</font>'+'\\\\n““状态：'+(des?des:'无')+'””。<font color=\"blue\">'+quan+'</font>',url:'select://{\"title\": \"选择\", \"options\" : [\"搜索\", \"倒序\",\"简介\"], col: 3, js: \"if(input==\\\\'搜索\\\\'){'+(!fi.so||fi.so[0]==0)+'?\\\\'hiker://search?s='+nam+'&group='+(fi.so?fi.so[1]:'全部')+'\\\\':\\\\'hiker://search?s='+nam+'&rule='+(fi.so?fi.so[1]:'')+'&simple=false\\\\';}else if(input==\\\\'倒序\\\\'){putVar(\\\\'model\\\\',1);putVar(\\\\'ii\\\\','+getVar('ii')+');refreshPage(false);\\\\'toast://切换成功！\\\\'}else{eval(JSON.parse(fetch(\\\\'hiker://page/jianj\\\\')).rule);jianj(\\`'+jianj+'\\`);};\"}',col_type:'text_1'});d1.push({col_type:'big_blank_block'});try{laru=lazy.replace('aytmParse(input)','')+\"cid=input.split('#')[1];input=input.split('#')[0];try{url=aytmParse(input);if(url.includes('toast://')||!url.includes('://')||input==url)url=jxsb;try{pa=url.split(';')[1].split('&&');var ua='';var re='';for(i of pa){try{if(i.includes('User-Agent')&&ua=='')ua=i.split('@')[1].replace('}','');}catch(e){}try{if(i.includes('Referer')&&re=='')re=i.split('@')[1].replace('}','');}catch(e){}}}catch(e){}url=url.split(';')[0];dat=[];dat.push(url);if(cid){dm='https://comment.bilibili.com/'+cid+'.xml';}else{try{var vid=input.split('/')[6].split('.htm')[0];var id=JSON.parse(fetch('https://access.video.qq.com/danmu_manage/regist?vappid=97767206&vsecret=c0bdcbae120669fff425d0ef853674614aa659c605a613a4&raw=1', {headers:{'User-Agent':PC_UA},body:{'wRegistType':2,'vecIdList':[vid]},method:'POST'})).data.stMap[vid].strDanMuKey.match(/[0-9]{4,}/g)[0];if(id){var com=[];url=[];var k=1;for(j=0;;j=j+16*(30*k)){for(i=j;i<16*(30*k)+j;i=i+30*k){url.push({url:'http://mfm.video.qq.com/danmu?timestamp='+i+'&target_id='+id});if(j>=64*30)k=4;}batchFetch(url).map(function(a) {try{ h = JSON.parse(a).comments; }catch(e){try{h=JSON.parse(a.match(/{.*}/)[0]).comments;}catch(e){h=[];}}com=com.concat(h); });if(h=='')break;};dm='hiker://files/番剧更新表/dm.json';writeFile(dm,JSON.stringify(com).replace(/content/g,'text').replace(/timepoint/g,'time'));}else{dm='';}}catch(e){dm='';}}JSON.stringify({urls:dat,headers:[{'User-Agent':ua,'Referer':re}],danmu:dm});}catch(e){'toast://解析失败，请更换解析或稍后重试';}\";if(fi.dm=='关')laru=lazy;}catch(e){laru='\"toast://无解析插件，但追番后仍可记录足迹！\"';};var epl=0;var ji=parseInt(fi.ji?fi.ji:10,10);var ii=getVar('ii');var diw=undefined;if(ii==''){var blj=MY_URL.split('##')[0];if(lb.includes(blj)){ii=0;for(j of lb.split('@@')){if(j.includes(blj)){diw=j.split('&&')[3];break;}}}else ii=1;}try{ var ep=JSON.parse(ym.split('\"epList\":')[1].split('}]')[0]+'}]').filter((a,j)=>{if(ii==0){if(diw){if(a.title==diw||a.longTitle==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;}}else ii=1;} if(a.badge!='预告')return a;});var epl=ep.length;ep=ep.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1);var che=fetch('hiker://files/番剧更新表/cache.txt',{});for(var i=0;i<ep.length;i++){url=fi.bili=='开'&&che!=''?(che.split('@lazyRule')[0].replace(/cid\\\\=[0-9]{4,}/g,'cid='+ep[i].cid).replace(/avid\\\\=[0-9]{4,}/g,'avid='+ep[i].aid)):('https://www.bilibili.com/bangumi/play/ep'+ep[i].id);d.push({ title:colo(ep[i].longTitle,undefined,ep[i].title),col_type:'movie_2', img:'http:'+ep[i].cover, desc:ep[i].title,url:url+'#'+ep[i].cid+'##'+ep[i].title+\"##noPre#@lazyRule=.js:\"+getItem('rC')+(che!=''&&fi.bili=='开'?(fi.dm=='开'?che.split('@lazyRule=.js:')[1].replace(/[0-9]{4,}(?=\\\\))/g,ep[i].cid):che.split('@lazyRule=.js:')[1].replace(/[0-9]{4,}(?=\\\\))/g,'undefined')):laru),extra:{id:url}});}}catch(e){try{if(htm.global.coverInfo.category_map.join(',,').includes('正片')){var epi=htm.global.coverInfo.video_ids;var urlb=[];for(i=0;i<Math.ceil(epi.length/30);i++)urlb.push({url:'https://union.video.qq.com/fcgi-bin/data?otype=json&tid=682&appid=20001238&appkey=6c03bbe9658448a4&union_platform=1&idlist='+epi.slice(i*30,(i+1)*30).join(',')});var le=batchFetch(urlb).map((a,j)=>{eval(a);return QZOutputJson.results;});le=[].concat.apply([],le).filter((a,j)=>{if(ii==0){if(diw){var ti=a.fields.episode;if((ti!=0?('第'+ti+'话'):a.fields.title)==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;}}else ii=1;}if(!a.fields.category_map.join(',,').includes('预告'))return a;});var epl=le.length;le=le.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1);var ur='https://v.qq.com/x/cover/'+htm.global.currentCid;for(var i in le){var ti=le[i].fields.episode;d.push({title:(colo(ti!=0?('第'+ti+'话'):le[i].fields.title)),img:le[i].fields.pic160x90.split('/160')[0],url:ur+'/'+le[i].fields.vid+'.html##'+(ti!=0?('第'+ti+'话'):le[i].fields.title)+'##noPre#@lazyRule=.js:'+getItem('rC')+laru,col_type:'movie_2',extra:{id:ur+'/'+le[i].fields.vid+'.html'}});}}}catch(e){try{if(MY_URL.includes('youku.'))tc=qztc;try{var v=JSON.parse(ym.split('videoInfo\":')[1].split('}')[0]+'}');}catch(e){var v={};v.aid=ym.split('albumId\":')[1].split(',')[0];}vi=JSON.parse(request('https://pub.m.iqiyi.com/h5/main/videoList/album/?albumId='+v.aid+'&size=1500&page=1&needPrevue=false&needVipPrevue=false',{})).data;if(vi!=''){v=vi.videos;try{v.forEach((a,j)=>{if(ii==0){if(diw){if(a.pd==diw||a.vt==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;throw new Eorror('中断');}}else ii=1;}});}catch(e){}var epl=v.length;v=v.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1);d=v.map(a=>{a.desc=a.pd;a.img=('https:'+a.imageUrl);a.url='https:'+a.pageUrl+'##'+a.pd+'@lazyRule=.js:'+getItem('rC')+lazy;a.title=colo(a.vt,(undefined),a.pd);a.col_type='movie_2';a.extra={id:'https:'+a.pageUrl};return a;});}else{i=v;if(i&&(!i.vt||!i.vt.includes('预告')))d.push({title:colo(i.shortTitle,undefined,i.order),url:'https:'+i.pageUrl+'##'+i.order+'##noPre#@lazyRule=.js:'+getItem('rC')+lazy,col_type:'movie_2',img:'https:'+i.imageUrl,desc:i.order});}}catch(e){try{d=JSON.parse(fetch('https://search.youku.com/api/search?appScene=show_episode&showIds='+ym.match(/showId\":\"(.*?)\"/)[1]+'&appCaller=h5',{headers:{\"User-Agent\":MOBILE_UA},redirect:false})).serisesList;try{d=d.filter(a=>{return a.iconCorner.tagText!='预告';});d.forEach((a,j)=>{if(ii==0){if(diw){if(a.title==diw||a.displayName==diw){ii=j+1;}if(ii>0){if(ii%ji!=0)ii=ii-ii%ji+1;else ii=ii-ji+1;throw new Eorror('中断');}}else ii=1;}});}catch(e){}var epl=d.length;d=d.slice(parseInt(ii,10)-1,parseInt(ii,10)+ji-1).map(a=>{a.desc=a.displayName;a.img=a.thumbUrl;a.url='https://m.youku.com/alipay_video/id_'+a.videoId+'.html##'+a.displayName+'##noPre#@lazyRule=.js:'+getItem('rC')+lazy;a.title=colo(a.title,undefined,a.displayName);a.extra={id:'https://m.youku.com/alipay_video/id_'+a.videoId+'.html'};return a;});}catch(e){var li=pdfa(ym,'body&&.module-play-list,1||.module-play-list&&.module-play-list-link');for(let i of li){var ti=pdfh(i,'a&&Text');d.push({title:colo(ti,1),url:parseDom(i,'a&&href')+'##'+ti+'##noPre#@lazyRule=.js:'+getItem('rC')+'ym1=fetch(input,{headers:{\\\\'User-Agent\\\\':MOBILE_UA,\\\\'Cookie\\\\':(input.includes(\\\\'xfani.\\\\')?getItem(\\\\'senC\\\\'):\"\")}});eval(pdfh(ym1,\\\\'.main&&script&&Html\\\\'));var url=player_aaaa.url;if(url.includes(\\\\'://\\\\'))url=url.match(/http.*/)[0]+\\\\'#isVideo=true#\\\\';else if(input.includes(\\\\'xfani.\\\\')){var u=\\\\'https://dick.xfani.com/addons/dp/player/dp.php?key=0&from=&id=\\\\'+player_aaaa.id+\\\\'&api=&url=\\\\'+url+\\\\'&jump=\\\\';ym=fetch(u,{headers:{Referer:input}});var da=ym.match(/\"url\".*?\"(.*?)\"/)[1];if(da.search(/m3u8|mp4/)>-1)da+\\\\'#isVideo=true#\\\\';else{var vie=pdfh(ym,\\\\'head&&meta[name=\"viewport\"]&&id\\\\').replace(\"now_\",\"\");var ch=pdfh(ym,\\\\'head&&meta[charset=\"UTF-8\"]&&id\\\\').replace(\"now_\",\"\");var ma=JSON.parse(fetch(\"hiker://page/senfun.js\",{})).rule;eval(ma);decrypt(da,vie,ch)+\\\\'#isVideo=true#\\\\';}/*\\\\'video://\\\\'+input;*/}else if(input.includes(\\\\'omofun.\\\\')){var u=\\\\'https://www.omofun.tv/addons/dp/player/dp.php?from=\\\\'+(url.includes(\"omo\")?\"omo\":\"mp4\")+\\\\'&url=\\\\'+url;ym=fetch(u,{headers:{Referer:input}});var u=ym.match(/\"url\".*?\"(.*?)\"/)[1]+\"#isVideo=true#\";if(\"'+fi.dm+'\"==\"开\"){var dmf=JSON.parse(fetch(\\\\'https://www.omofun.tv/index.php/danmu?ac=dm&id=\\\\'+ym1.match(/data-id=\"(.*?)\"/)[1])).danmuku.map(a=>{return {time:a[0],text:a[4]};});dm=\"hiker://files/番剧更新表/dm.json\";writeFile(dm,JSON.stringify(dmf));var b=[];b.push(u);var l={urls:b,danmu:dm};JSON.stringify(l);}else u;}',col_type:'text_3'});var epl=0;}}}}}if(d==''&&getVar('ii')!=''){clearVar('ii');refreshPage();}for(i=1;i<=epl;i=i+ji){var qj=(i+'-'+(epl-(i+ji-1)>=0?(i+ji-1):epl));d1.push({title:ii>=i&&(ii<=i+ji-1)?('““'+qj+'””'):qj,url:i+\"@lazyRule=.js:putVar('ii',input);refreshPage(false);'toast://正在切换...'\",col_type:'scroll_button'});}if(mo==1)d=d.reverse();d1=d1.concat(d);d1.push({col_type:'line_blank'});if(ym.indexOf('\"ssList\":[{')>-1){d1.push({title:(getVar('xl')=='1'?'““⊙更多系列””':'‘‘⊕更多系列’’'),url:'hiker://empty#'+getVar('xl')+\\`@lazyRule=.js:var a=input.split('#')[1];if(a=='1'){putVar2('xl','');}else{putVar2('xl','1');}refreshPage(false);a=='1'?'toast://已收起':'toast://已展开'\\`,col_type:'text_2'});}if(MY_URL.search(/iqiyi.co|youku.co/)==-1)d1.push({title:(getVar('tj')=='1'?'““⊙更多推荐””':'‘‘⊕更多推荐’’'),url:'hiker://empty#'+getVar('tj')+\\`@lazyRule=.js:var a=input.split('#')[1];if(a=='1'){putVar2('tj','');}else{putVar2('tj','1');};refreshPage(false);a=='1'?'toast://已收起':'toast://已展开'\\`,col_type:'text_2'});d1.push({col_type:'line'});if(getVar('tj')==1||getVar('xl')==1)writeFile('hiker://files/番剧更新表/ym','');try{if(getVar('xl')=='1'){ var tj=JSON.parse(ym.split('\"ssList\":')[1].split('}]')[0]+'}]'); for(var o=0;tj!=null&&o<tj.length;o++){var cover=tj[o].cover;if(!cover.includes('http'))cover='http:'+cover;var cu=MY_URL.includes(tj[o].id)?'⭐️':'';var sx=MY_URL.includes(tj[o].id)?\"@lazyRule=.js:refreshPage(false);'toast://已刷新！';\":getItem('aa');d1.push({ title:tj[o].title+cu,img:cover,desc:tj[o].index_show, url:'https://www.bilibili.com/bangumi/play/ss'+tj[o].id+'##'+nam+' '+tj[o].title+'&&'+'https://www.bilibili.com/bangumi/play/ss'+tj[o].id+'&&'+cover+'##'+sx, desc:tj[o].desc,col_type:'movie_2' });}putVar2('xl','');}}catch(e){}if(getVar('tj')=='1'){if(MY_URL.includes('bilibili')){var rec=JSON.parse(fetch('https://api.bilibili.com/pgc/season/web/related/recommend?season_id='+MY_URL.split('ss')[1],{})).data.season;for(i=0;i<rec.length;i++){d1.push({ title:rec[i].title,img:rec[i].new_ep.cover,desc:rec[i].new_ep.index_show,url:rec[i].url+'##'+rec[i].title+'&&'+rec[i].url+'&&'+rec[i].new_ep.cover+'##'+getItem('aa'), col_type:'movie_2' });}}else if(MY_URL.includes('qq.')){var lis=parseDomForArray(request('https://m.v.qq.com/play.html?cid='+MY_URL.split('/')[5].split('.')[0],{}),'.figures_list&&li');for(var k of lis){var ur='https://v.qq.com/x/cover/'+parseDomForHtml(k,'li&&data-cid')+'.html';var img=parseDomForHtml(k,'img&&dsrc');if(!img.includes('http'))img='https:'+img;var ti=parseDomForHtml(k,'strong&&Text');d1.push({ title:ti,img:img,desc:parseDomForHtml(k,'a&&Text'),url:ur+'##'+ti+'&&'+ur+'&&'+img+'##'+getItem('aa'), col_type:'movie_2' });}}else{var li=pdfa(ym,'body&&.module-items&&a');for(let i of li){var ti=pdfh(i,'a&&title');var ur=parseDom(i,'a&&href');var img=pdfh(i,'img&&data-original');d1.push({ title:ti,img:img,desc:parseDomForHtml(i,'.module-item-note&&Text'),url:ur+'##'+ti+'&&'+ur+'&&'+img+'##'+getItem('aa'), col_type:'movie_2' });}}}putVar2('tj','');}catch(e){d1.push({title:'““休息吧，追番也不要这么拼！””',col_type:'text_center_1'});}clearItem('yz');addListener('onRefresh',\"putVar('jl',parseInt(getVar('jl','0'),10)-1);\");addListener('onClose',\"clearVar('ii');writeFile('hiker://files/番剧更新表/ym','');var fi=JSON.parse(fetch('hiker://files/番剧更新表/set.txt',{}));var fis=JSON.parse('\"+fis+\"');var sta=getVar('sta');if(getVar('jl')==1&&getVar('axe')=='追番'&&(fetch('hiker://files/番剧更新表/我的追番.txt',{})!=getVar('lb')||fi.fz!=fis.fz||fi.col!=sta&&fi.col!=fis.col)){if(fi.col!=fis.col&&fi.col!=sta)putVar('sta',fi.col&&fi.col==1?1:0);refreshPage(false);}putVar('jl',parseInt(getVar('jl','0'),10)-1);\");res1.data = d1; setHomeResult(res1);`);","pages":"[{\"col_type\":\"movie_3\",\"name\":\"测试\",\"path\":\"ceshi.html\",\"rule\":\"js:\\n\\r\\nvar res = {};\\r\\nvar d = [];\\nvar d1 = [];\\nvar d2 = [];\\nvar d3 = [];\\nvar d4 = [];\\nvar d5 = [];\\nfunction sel(a){\\n   try{\\n      a=a.match(/[\\\\w]*?\\\\.com/g)[0];\\n     }catch(e){return 'oth';}\\n            switch (a) {\\n                case \\\"qq.com\\\":\\n                    str = 'tx';\\n                    break;\\n                case \\\"iqiyi.com\\\":\\n                    str = 'qy';\\n                    break;\\n                case \\\"youku.com\\\":\\n                    str = 'yk';\\n                    break;\\n                case \\\"mgtv.com\\\":\\n                    str = 'mg';\\n                    break;\\n                case \\\"bilibili.com\\\":\\n                    str = 'bl';\\n                    break;\\n                default:\\n                    str = 'oth';\\n                    break;\\n            }\\nreturn str;\\n}\\n\\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\\nvar fi=fetch(path,{});\\ntry{\\neval('jx='+fi);\\neval('a='+fi);\\n\\nsaveFile('save.txt',fi);\\n\\nfor(let x of Object.keys(jx.settings)){\\nvar b=jx.settings[x].split(',');\\nfor(i=0;i<b.length;i++){\\nfor(j=i+1;j<b.length;j++){\\nif(b[i]==b[j]){\\nb.splice(j,1);\\n}\\n}\\n}\\njx.settings[x]=b.filter(a=>{return a!='';}).join(',');\\n}\\n\\njx.settings.cj='hiker://files/cache/Parse_Dn.js';\\njx.title=jx.title.filter(a=>{\\nif(jx.codes[a]){jx.codes[a]=a+'解析';\\nreturn a;}\\nelse{delete jx.codes[a];}});\\nvar fi=JSON.stringify(jx);\\nfor(j of jx.title){fi=fi.replace('\\\"'+j+'解析\\\"',((typeof a.codes[j])!='function'?('\\\"'+a.codes[j].toString().trim()+'\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);\\n\\ninput=getVar('input');\\nputVar('input','');\\nvar name=getVar('i');\\n\\nd.push({\\ntitle:'测试',\\ndesc:'输入测试链接...',\\nurl:`putVar('input',input);refreshPage(false);`,\\ncol_type:'input',\\nextra:{id:\\\"ink\\\"}\\n});\\nvar path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';\\n\\neval('jx='+fi);\\nvar pd=0;\\nfor(i=0;i<jx.title.length;i++){\\nif(jx.title[i]==name){\\npd=1;break;\\n}\\n}\\nif(name==''||pd==0)name=jx.title[0];\\n\\nd.push({\\ntitle:'测试从 '+name+' 开始: ',\\ndesc:'点击切换起点解析',\\nurl:`select://{\\\"title\\\": \\\"选择解析...\\\",\\\"options\\\" :[`+jx.title.map(a=>{return '\\\"'+a+'\\\"'})+`],col: 3, \\\"js\\\":\\\"putVar('i',input);refreshPage(false);'toast://切换至'+input+'开始测试！'\\\"}`,\\ncol_type:'text_1'\\n});\\nd.push({col_type:'line_blank'});\\nif(input!=''&&input.includes('://')){\\nvar cs=0;\\nfor(var ii=0;ii<jx.title.length;ii++){\\n\\nif(name!=jx.title[ii]&&cs==0){\\ncontinue;\\n}else if(name==jx.title[ii]){cs=1;}\\n\\n\\n\\nif(jx.title[ii]!='defaultParse'){\\ntry{\\nshowLoading('正在测试 '+jx.title[ii]);\\n\\nif((typeof jx.codes[jx.title[ii]])!='string'){\\nvar url=jx.codes[jx.title[ii]](input).replace(/\\\\\\\"/g,'\\\\\\\\\\\"').replace(/\\\\'/g,\\\"\\\\\\\\'\\\").replace(/\\\\`/g,'\\\\\\\\`');\\nif(sel(input)=='mg'&&url.search(/User-Agent|Referer/)==-1)\\nurl=url+';{User-Agent@Mozilla/5.0 (Windows NT 10.0)}';\\n}\\nelse{\\nvar url='';\\n}\\n\\nif(url.includes('toast://')||!url.includes('://')||url==input)url='';\\n}catch(e){\\nurl='';\\n}\\n\\nif(url!='')\\n{\\nd1.push({\\ntitle:jx.title[ii],\\ndesc:'找到一个免嗅',\\nurl:`select://{\\\"title\\\": \\\"选择操作...\\\", \\\"options\\\" :['播放','添加','删除'], col: 3, \\\"js\\\": \\\"if(input=='播放'){\\\\``+url+`\\\\`;}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\\\\\\\"'+j+'解析\\\\\\\\\\\"',((typeof a.codes[j])!='function'?('\\\\\\\\\\\"'+a.codes[j].toString().trim()+'\\\\\\\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\\\"}`,\\ncol_type:'text_1'\\n});\\ntry{\\nputVar('i',jx.title[ii+1]);\\n}catch(e){\\nclearVar('i');}\\nd1.push({col_type:'line'});\\nd1.push({\\ntitle:'下一个',\\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');refreshPage(false);'toast://下一个'`,\\ncol_type:'text_2'\\n});\\nd1.push({\\ntitle:'从头开始',\\nurl:`hiker://empty@lazyRule=.js:putVar('input','`+input+`');clearVar('i');refreshPage(false);'toast://开始'`,\\ncol_type:'text_2'\\n});\\nhideLoading();\\nbreak;\\n}\\n\\n\\nelse{\\nif((typeof jx.codes[jx.title[ii]])!='string')\\nd2.push({\\ntitle:jx.title[ii],\\n\\nurl:`select://{\\\"title\\\": \\\"选择操作...\\\", \\\"options\\\" :['重试','添加','删除'], col: 3, \\\"js\\\": \\\"if(input=='重试'){\\\\`hiker://empty@lazyRule=.js:var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);jx.codes['`+jx.title[ii]+`']('`+input+`');\\\\`}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\\\\\\\"'+j+'解析\\\\\\\\\\\"',((typeof a.codes[j])!='function'?('\\\\\\\\\\\"'+a.codes[j].toString().trim()+'\\\\\\\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\\\"}`,\\ncol_type:'text_3'\\n});\\nelse{\\nvar x5=jx.codes['defaultParse'](jx.codes[jx.title[ii]]+input).replace(/\\\\\\\\/g,'\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\').replace(/\\\\\\\"/g,'\\\\\\\\\\\"').replace(/\\\\'/g,\\\"\\\\\\\\'\\\").replace(/\\\\`/g,'\\\\\\\\`').replace(/[\\\\s]/g,' ');\\nd4.push({\\ntitle:jx.title[ii],\\n\\nurl:`select://{\\\"title\\\": \\\"选择操作...\\\", \\\"options\\\" :['解析','添加','删除'], col: 3, \\\"js\\\": \\\"if(input=='解析'){'`+x5+`'}else {var path='file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/DuanNian/MyParse.json';var fi=fetch(path,{});eval('jx='+fi);eval('a='+fi);if(input=='添加'){var set=jx.settings['`+sel(input)+`'];set=set.split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');jx.settings['`+sel(input)+`']='`+jx.title[ii]+`'+(set==''?'':',')+set;for(j of jx.title){jx.codes[j]=j+'解析';}var fi=JSON.stringify(jx);}else{var jxl=jx.title.filter(a=>{if(a!='`+jx.title[ii]+`')return a;});for(j of jx.title){if(j!='`+jx.title[ii]+`')jx.codes[j]=j+'解析';else delete jx.codes[j];}jx.title=jxl;for(k of Object.keys(jx.settings)){jx.settings[k]=jx.settings[k].split(',').filter(a=>{if(a!=''&&a!='`+jx.title[ii]+`')return a;}).join(',');}var fi=JSON.stringify(jx);}for(j of jx.title){fi=fi.replace('\\\\\\\\\\\"'+j+'解析\\\\\\\\\\\"',((typeof a.codes[j])!='function'?('\\\\\\\\\\\"'+a.codes[j].toString().trim()+'\\\\\\\\\\\"'):a.codes[j].toString().trim()));}writeFile(path,fi);'toast://完成！'}\\\"}`,\\ncol_type:'text_3'\\n});}\\n}\\n}}\\n}\\nhideLoading();\\nif(d2!='')\\nd3.push({\\ntitle:'⭐️以下是解析失败的免嗅:',\\ncol_type:'text_1'\\n\\n});\\nif(d4!='')\\nd5.push({\\ntitle:'⭐️以下不是免嗅，需要手动测试:',\\ncol_type:'text_1'\\n\\n});\\n}catch(e){\\nd.push({\\ntitle:'文件损坏，点击此处恢复(如果有备份的话)',\\ncol_type:'text_center_1',\\ndesc:'先点一下试一试吧',\\nurl:`hiker://empty@lazyRule=.js:writeFile('`+path+`',readFile('save.txt'));refreshPage(false);'toast://执行成功！'`\\n});\\n}\\nd=d.concat(d1).concat(d3).concat(d2).concat(d5).concat(d4);\\n\\r\\nres.data = d;\\r\\nsetHomeResult(res);\"},{\"col_type\":\"movie_3\",\"name\":\"搜索\",\"path\":\"so.html\",\"rule\":\"if(input=='搜索分组'){`input://{\\\"hint\\\":'输入分组名称：',\\\"js\\\":\\\"a=[];a[0]=0;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\\\"}`}\\nelse{`input://{\\\"hint\\\":'输入小程序名称：',\\\"js\\\":\\\"a=[];a[0]=1;a[1]=input;if(a[1]!=''){se='hiker://files/番剧更新表/set.txt';var fi=JSON.parse(fetch(se,{}));fi.so=a;writeFile(se,JSON.stringify(fi));refreshPage(false);}\\\"}`}\"},{\"col_type\":\"movie_3\",\"name\":\"简介\",\"path\":\"jianj\",\"rule\":\"function jianj(a){\\nreturn `hiker://empty@rule=js:var res = {};var d = [];d.push({title:'简介：\\\\\\\\n'+\\\\``+a+`\\\\`,col_type:'long_text'});res.data = d;setHomeResult(res);`\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"分类\",\"path\":\"classify\",\"rule\":\"js:\\nd=[];\\nputVar('分类','');\\nvar path=\\\"hiker://files/番剧更新表/我的追番.txt\\\";\\nvar file=request(path);\\nif(file!=\\\"\\\"){\\nd.push({\\n    title:\\\"操作说明：\\\",\\n    desc:\\\"先选择放到一个分组的番剧，点击完成，输入名称即可！\\\",\\n    col_type:\\\"text_1\\\",\\n    extra:{id:'步骤'}\\n\\n});\\nvar xx=file.split('@@').filter(a=>{return a!=\\\"\\\";});\\nvar arr=xx.map(a=>{\\n    var b={};\\nvar cate=a.split(\\\"&&\\\");\\n    var t=cate[0];\\nti=t;\\nif(cate[4]&&cate[4]!=\\\"\\\")ti='‘‘'+t+'’’';\\n    b.title=ti;\\n    b.url=\\\"hiker://empty#noLoading#@lazyRule=.js:var a=getVar('分类','');var b=0;a=a==''?[]:JSON.parse(a);a=a.filter(i=>{if(i=='\\\"+t+\\\"'){b=1;}else{return i;}});if(b==0)a.push('\\\"+t+\\\"');putVar('分类',a);updateItem({title:b==0?('““\\\"+t+\\\"””'):('\\\"+ti+\\\"'),extra:{id:'\\\"+t+\\\"'}});('toast://'+(b==0?'已选中！':'取消选中！'))\\\";\\n    b.col_type=\\\"text_2\\\";\\n    b.extra={id:t};\\n    return b;\\n});\\nd=d.concat(arr);\\nd.push({\\n    title:\\\"完成\\\",\\n    col_type:\\\"text_center_1\\\",\\n    url:`input://{\\\"hint\\\":\\\"分组名称......\\\", \\\"js\\\": \\\"var fi=`+JSON.stringify(xx).replace(/\\\"/g,\\\"'\\\")+`;var a=getVar('分类','');a=a==''?[]:JSON.parse(a);for(let i of a){for(let j in fi){var cate=fi[j].split('&&');var ti=cate[0];if(ti==i){cate[4]=input;fi[j]=cate.join('&&');break;}}}writeFile('`+path+`',fi.join('@@')+'@@');refreshPage();'toast://完成!'\\\"}`\\n})\\n\\n\\n}else{\\n    d.push({\\n    title:\\\"没有追番。。。\\\",\\n    desc:\\\"请先添加追番再试！！\\\",\\n    col_type:\\\"text_center_1\\\"\\n});\\n}\\n\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"追番分组\",\"path\":\"zffz\",\"rule\":\"putVar('jl',parseInt(getVar('jl','0'),10)-1);\\n\\nvar inp=getVar('url1').split('&&');inp[4]=input;inp=inp.join('&&');\\n\\nvar xr=inp+'@@'+fetch('hiker://files/番剧更新表/我的追番.txt',{});\\n\\nwriteFile('hiker://files/番剧更新表/我的追番.txt',xr);\\n\\nrefreshPage(false);\\n\\n'toast://追番成功！';\"},{\"col_type\":\"movie_3\",\"name\":\"sendecrypt\",\"path\":\"senfun.js\",\"rule\":\"function decrypt(url,vie,ch) {\\nrequire('https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/crypto-js/4.0.0/crypto-js.min.js');\\n//eval(getCryptoJS());\\r\\n    let _0x40f308 = vie;\\r\\n    let _0x19689e = ch;\\r\\n    let _0x400904 = []\\r\\n      , _0x2c4407 = []\\r\\n      , _0x4c4e4b = '';\\r\\n    for (var _0x1ac653 = 0x0; _0x1ac653< _0x19689e.length; _0x1ac653++) {\\r\\n       \\r\\n            _0x400904.push({\\r\\n                'id': _0x19689e[_0x1ac653],\\r\\n                'text': _0x40f308[_0x1ac653]\\r\\n            });\\r\\n       \\r\\n    }\\r\\n     _0x2c4407 =_0x400904.sort(function({'id': d},{'id': e}){return d-e;});\\r\\n    for (var _0x1ac653 = 0; _0x1ac653< _0x2c4407.length; _0x1ac653++) {\\r\\n        _0x4c4e4b += _0x2c4407[_0x1ac653].text;\\r\\n    }\\r\\n    let _0x976f9f = CryptoJS.MD5(_0x4c4e4b+'favnow').toString();\\r\\n    let _0x1c8db4 = CryptoJS.enc.Utf8.parse(_0x976f9f.substring(16));\\r\\n    let _0x220097 = CryptoJS.enc.Utf8.parse(_0x976f9f.substring(0, 16));\\r\\n    let _0x48c6ab = CryptoJS.AES.decrypt(url, _0x1c8db4, {\\r\\n        'iv': _0x220097,\\r\\n        'mode': CryptoJS.mode.CBC,\\r\\n        'padding': CryptoJS.pad.Pkcs7\\r\\n    });\\r\\n    return _0x48c6ab.toString(CryptoJS.enc.Utf8);\\r\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"登录\",\"path\":\"dl.html\",\"rule\":\"\\nsetResult([{\\n    col_type: \\\"x5_webview_single\\\",\\n    url: \\\"https://dick.xfani.com/user/login.html\\\",\\n    desc: \\\"float&&100%\\\",\\n    extra: {\\n        js: $.toString(() => {\\n            fy_bridge_app.writeFile('hiker://files/番剧更新表/cookie.txt', fy_bridge_app.getCookie('https://dick.xfani.com/user/login.html'));\\n        })\\n    }\\n}])\"},{\"col_type\":\"movie_3\",\"name\":\"优酷验证\",\"path\":\"yk.html\",\"rule\":\"\\nsetResult([{\\n    col_type: \\\"x5_webview_single\\\",\\n    url: MY_URL,\\n    desc: \\\"float&&100%\\\",\\n    extra: {\\n        js: $.toString(() => {\\nvar a=fy_bridge_app.getCookie('');\\nfy_bridge_app.log(a);\\n            fy_bridge_app.writeFile('hiker://files/番剧更新表/yocookie.txt', a);\\n\\n        })\\n    }\\n}])\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/movie/119.svg"}